define([],function(){function l(a,c,b,d,f){return{Login:function(a,c,e){d(function(){var b;f.GetByUsername(a).then(function(a){b=null!==a&&a.password===c?{success:!0}:{success:!1,message:"Username or password is incorrect"};e(b)})},1E3)},SetCredentials:function(d,f){var e=m.encode(d+":"+f);b.globals={currentUser:{username:d,authdata:e}};a.defaults.headers.common.Authorization="Basic "+e;c.put("globals",b.globals)},ClearCredentials:function(){b.globals={};c.remove("globals");a.defaults.headers.common.Authorization=
"Basic"}}}angular.module("bookApp.services").factory("AuthenticationService",l);l.$inject=["$http","$cookieStore","$rootScope","$timeout","UserService"];var m={keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var c="",b,d,f="",g,h,e="",k=0;do b=a.charCodeAt(k++),d=a.charCodeAt(k++),f=a.charCodeAt(k++),g=b>>2,b=(b&3)<<4|d>>4,h=(d&15)<<2|f>>6,e=f&63,isNaN(d)?h=e=64:isNaN(f)&&(e=64),c=c+this.keyStr.charAt(g)+this.keyStr.charAt(b)+this.keyStr.charAt(h)+
this.keyStr.charAt(e);while(k<a.length);return c},decode:function(a){var c="",b,d,f="",g,h="",e=0;/[^A-Za-z0-9\+\/\=]/g.exec(a)&&window.alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '\x3d'\nExpect errors in decoding.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do b=this.keyStr.indexOf(a.charAt(e++)),d=this.keyStr.indexOf(a.charAt(e++)),g=this.keyStr.indexOf(a.charAt(e++)),h=this.keyStr.indexOf(a.charAt(e++)),b=b<<2|d>>4,d=(d&15)<<
4|g>>2,f=(g&3)<<6|h,c+=String.fromCharCode(b),64!=g&&(c+=String.fromCharCode(d)),64!=h&&(c+=String.fromCharCode(f));while(e<a.length);return c}}});